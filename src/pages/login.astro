---
import LoginView from "@/components/auth/LoginView.tsx";
import AuthLayout from "@/layouts/AuthLayout.astro";

export const prerender = false;

// Przekierowanie, jeśli użytkownik jest już zalogowany
// (to jest dodatkowe zabezpieczenie, główna logika jest w middleware)
if (Astro.locals.isAuthenticated) {
  return Astro.redirect("/"); // Zmieniono z /shopping-lists
}

// If successful, redirect to the main page
if (response.ok) {
  return Astro.redirect("/");
}
---

<AuthLayout title="Logowanie">
  <LoginView client:load />
</AuthLayout>
