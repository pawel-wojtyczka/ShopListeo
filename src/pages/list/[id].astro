---
import MainLayout from "@/layouts/MainLayout.astro";
import ShoppingListDetailView from "@/components/views/ShoppingListDetailView";

// Parametr `id` będzie pobierany i obsługiwany po stronie klienta
// przez komponent ShoppingListDetailView z window.location lub routera klienckiego.
// Usunięto logikę serwerową Astro.params i Astro.redirect.
// Usunięto export const prerender = false; - strona będzie generowana jako fallback
// dla ścieżek pasujących do /list/*, ale jej zawartość będzie dynamiczna po stronie klienta.

// W trybie statycznym, Astro wygeneruje plik np. `dist/list/[id]/index.html` lub podobny,
// który posłuży jako punkt wejścia. Komponent kliencki musi obsłużyć resztę.

// Dla trybu `output: "static"`, dynamiczne trasy wymagają `getStaticPaths`.
// Zwracamy pustą tablicę, co oznacza, że żadne konkretne strony list nie będą pre-renderowane.
// Astro wygeneruje strukturę dla tej trasy, a komponent kliencki zajmie się resztą.
export async function getStaticPaths() {
  return [];
}
---

<MainLayout title="Szczegóły Listy Zakupów">
  {
    /* 
    Komponent ShoppingListDetailView musi teraz sam pobrać listId z URL 
    (np. window.location.pathname) i obsłużyć przypadki błędne/brakujące ID.
    Nie przekazujemy już listId jako prop, bo Astro.params nie jest dostępne w statycznym buildzie
    w ten sam sposób bez getStaticPaths.
  */
  }
  <ShoppingListDetailView client:load />
</MainLayout>
